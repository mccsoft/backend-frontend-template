# Changelog

### 2026-01-01 Update to .NET 10
During update we moved to Central Package Management (i.e. all nuget package versions are now specified in [Directory.Packages.props](../webapi/Directory.Packages.props)).
To move to it in your own project consider reading the [article](https://www.milanjovanovic.tech/blog/central-package-management-in-net-simplify-nuget-dependencies) and running:
```bash
# Install the tool globally
dotnet tool install CentralisedPackageConverter --global

# Convert your solution to use Central Package Management
central-pkg-converter PATH_TO_YOUR_SOLUTION_FOLDER
```
After that you could run the template update script as usual

### 2025-06-16 update frontend dependencies

Vite / SASS / etc. were updated. The following regexps might help you updating your codebase:

```
Search
Replace

@import '(.*?)'
@use '$1' as *

@import "(.*?)"
@use "$1" as *

import \{ ReactComponent as (.*?) \} from '(.*?)\.svg';
import $1 from '$2.svg?react';
```

Also, consider copying frontend/types/custom.d.ts (for SVG types)

If you get infinite loading on startup, consider copying `LanguageProvider.tsx` from template.

Also if you migrate to cookie authentication check the changes in MiniProfiler.tsx line 12 (the `?` mark)

### 2025-05-20 .NET 9

Update to .NET 9

### 2023-05-13 Deploy to Kubernetes (k3s)

[Official instructions](/k8s/README.md) & scripts are available to deploy to Kubernetes (and how to setup the Kubernetes cluster). It's now a recommended way to deploy the app.

### 2023-05-11 Update SignUrl

To use the new version, please increase the length of `SignUrl__Secret` to be at least 32 symbols.

### 2023-04-22 Update ASP.NET Core to 7.0.5, add [FromJsonQuery] attribute

Added `[FromJsonQuery]` attribute, so that request Query parameters could contain complex object serialized as JSON. This is supported in both Model-binder and Swagger (so autogenerated clients are ok)

#### Manual steps:

1. `convertToErrorString` is renamed to `errorToString` and moved to `error-helper.ts` (so you'd need to update that)
1. Remove `<PackageReference Include="NSwag.AspNetCore" Version="13.18.0" />` from App project
1. Replace `<script id="import-meta-env"></script>` with `globalThis.import_meta_env = JSON.parse('"import_meta_env_placeholder"');` in `index.html`
1. Adjust `ENTRYPOINT` in Dockerfile according to the latest version in template (the way to call import-meta-env was changed)

### 2023-02-13 End-to-end (e2e) UI tests

Added e2e tests that run against the real stage (dev stage or local docker). Each test resets the DB to initial state before start, so each test works against the clean state.

#### Manual steps:

1. Add `"TestApiEnabled": false` to [appsettings.json](/webapi/src/MccSoft.TemplateApp.App/appsettings.json), `"TestApiEnabled": true` to [appsettings.Development.json](/webapi/src/MccSoft.TemplateApp.App/appsettings.Development.json) and to Development stage (if you plan to run e2e tests over the stage)
1. Add OAuth redirect URLs to `https://localhost`:

   > "RedirectUris": [ ... "https://localhost/auth/signout-callback"]

   > "PostLogoutRedirectUris": [ ... "https://localhost/auth/signout-callback",]

### 2023-02-10 Configurable CI

Added an ability to configure CI via Variables. Now you could enable/disable certain stages of the build via [\_settings/base.partial.yml](../.ci/_settings/base.partial.yml). Technically main CI build and PullRequest builds are the same except for variable values.

### 2023-02-06 Playwright with Storybook testing

End-to-end tests using Playwright were introduced to the project (check out [e2e](./e2e) folder). These tests also include screenshot testing for all Storybook stories.

### 2023-01-16 Storybook

Storybook was added to the project, giving the ability to play with ui-kit components in an isolated environment

### 2022-12-04 [Log] attribute

Implement logging of starting/finishing the method with AOP `[Log]` attribute.

### 2022-12-03 Multi-tenancy

Support multi-tenant out of the box

### 2022-11-19 .NET 7

Upgrade to .NET 7

#### Manual steps (you need to do that if manually updating from previous versions via `yarn pull-changes-from-template`)

1. Replace `<TargetFramework>net6.0</TargetFramework>` with `<TargetFramework>net7.0</TargetFramework>`
1. Remove `NJsonSchema` from .App.csproj, .ComponentTests.csproj
1. Remove `NSwag.Generation`, `NSwag.CodeGeneration` from ComponentTests.csproj
1. Change first line of your Dockerfile to `FROM mcr.microsoft.com/dotnet/aspnet:7.0`

### 2022-11-16 System.Text.Json

Use System.Text.Json for everything (the only references to Newtonsoft.Json are in tests and via NSwag)

### 2022-11-13 Web Hooks

Web Hooks functionality. See further [documentation](./details/Webhooks.md).

#### Manual steps (you need to do that if manually updating from previous versions via `yarn pull-changes-from-template`)

1. Call `builder.Services.AddWebHooks();` from [Program.cs](../../webapi/src/MccSoft.TemplateApp.App/Program.cs)
2. Call `builder.AddWebHookEntities(this.GetType());` from `OnModelCreating` method of your [DbContext](../../webapi/src/MccSoft.TemplateApp.Persistence/TemplateAppDbContext.cs)

### 2022-11-01 StyledAutocomplete update

StyledAutocomplete updates to better handle FreeSolo and Search scenarios

### 2022-10-24 TestBase simplified

Simplify inheritance hierarchy for tests (i.e. there's a single common [TestBase](../webapi/Lib/Testing/MccSoft.Testing/TestBase.cs) in `MccSoft.Lib.Testing`, and project-specific base classes [AppServiceTestBase](../webapi/tests/MccSoft.TemplateApp.App.Tests/AppServiceTestBase.cs) and [ComponentTestBase](../webapi/tests/MccSoft.TemplateApp.ComponentTests/ComponentTestBase.cs))
